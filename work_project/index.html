<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name='viewport' content='width=device-width,initial-scale=1.0,user-scalable=no' />
        <link rel="shortcut icon" href="../src/favicon.ico" type="image/x-icon" />
	<title>work file</title>
</head>
<body>
	<audio src="../src/audio.mp3" id="audio"></audio>
	<h1>The best assets you have is that you're young.</h1>
	<div>you already working for：<span class='work'></span> years</div>
    	<div>you already living for：<span class='live'></span> years</div>
	<script type="text/javascript">
		// 定义计算时间函数
		function mathTime (val) {
			let result = 0;
			let num = 31536E6;
			result = (new Date().getTime() - new Date(val).getTime()) / num;
			return result;
		}
		let work = document.querySelector('.work');
		let live = document.querySelector('.live');
		// 每0.1秒走一次计算
		setInterval(() => {
			let work_time = mathTime('2012-11-01');
			let live_time = mathTime('1993-11-27');
			work.innerHTML = work_time;
			live.innerHTML = live_time;
		}, 100);
		let audio = document.querySelector('#audio');
		document.addEventListener('readystatechange', () => {
			if (document.readyState === 'complete') {
				setTimeout(() => {
					audio.play();
				}, 100);
			}
		})
	</script>
</body>
</html>
