<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <button id='btn1'>用于测试节流</button>
    <script>
        /*
            节流: 以指定时间执行一次函数体.

            如果一直点击, 不需要每次都执行, 以指定的时间, 例如2秒执行一次, 来做到节流.

            实现原理:

                1. 设置一个开关阀, 默认为true, 首次进入函数体, 执行代码.
                2. 执行到函数体时, 设置为false, 此时外部频繁点击, 不会触发函数体.
                3. 在函数体中以指定的时间后, 将开关阀设置为true, 此时可以再次执行函数体.
        */
        let btn1 = document.querySelector('#btn1');
        let flag = true;
        btn1.addEventListener('click', () => {
            if (!flag) { return; }
            flag = false;
            console.log('用于测试节流');
            setTimeout(() => {
                flag = true;
            }, 2000);
        });
    </script>
</body>
</html>